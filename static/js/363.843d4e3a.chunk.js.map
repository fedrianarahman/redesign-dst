{"version":3,"file":"static/js/363.843d4e3a.chunk.js","mappings":"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","sources":["ApiService/ApiService.js","hooks/ProtectedRoute.jsx","../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/index.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nlet config = require(\"./config.json\");\r\n\r\nexport const ApiService = {\r\n\r\n    get: (url, params, configLocal) => {\r\n        const getToken = configLocal ? configLocal.token || localStorage.getItem(\"token\") : localStorage.getItem(\"token\");\r\n        // console.log(\"line 9\", getToken);\r\n        const localConfigAxios = {\r\n            headers: {\r\n                'Authorization': `Bearer ${getToken}`,\r\n            },\r\n            params,\r\n            ...configLocal\r\n        }\r\n        return axios.get(config.host + url, localConfigAxios)\r\n    },\r\n\r\n    post: (url, params, configLocal) => {\r\n        const getToken = configLocal ? configLocal.token || localStorage.getItem(\"token\") : localStorage.getItem(\"token\");\r\n        const localConfigAxios = {\r\n            headers: {\r\n                'Authorization': `Bearer ${getToken}`,\r\n            },\r\n            ...configLocal\r\n        }\r\n\r\n        return axios.post(config.host + url, params, localConfigAxios)\r\n    },\r\n\r\n}","import React, {useEffect, useState} from 'react'\r\nimport { useLocation, Navigate, useNavigate } from 'react-router-dom'\r\nimport jwtDecode from 'jwt-decode';\r\nimport { ApiService } from '../ApiService/ApiService';\r\nimport store from '../store';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nconst ProtectedRoute = ({children}) => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate\r\n    // const token  = window.localStorage.getItem(\"token\");\r\n    const token = useSelector((token)=> token.token);\r\n    \r\n    const dispatch = useDispatch()\r\n    \r\n    // console.log(\"line 12\", token);\r\n    const [data, setdata] = useState({\r\n        nomorWa : '',\r\n        namaSekolah : '',\r\n        saldo : '',\r\n        statusLogin : ''\r\n    })\r\n    \r\n    // console.log(\"line 9\",token)\r\n    if (!token) {\r\n        return <Navigate to=\"/login\" replace state={{from : location}}/>\r\n        // navigate(\"/login\")\r\n    }\r\n    const fecthData = async ()=>{\r\n        const tokenData = jwtDecode(token)  \r\n        const response  = await ApiService.post(`/wa/get-user-wa`, {id : tokenData.id});\r\n        const responseLoginSs = await ApiService.post(`/wa/login-ss`);\r\n        // console.log(\"line 32 protected route\", responseLoginSs.data.data);\r\n        let tokenSS = window.sessionStorage.setItem(\"tokenSS\", responseLoginSs.data.data);\r\n\r\n        // const response1 = await ApiService.post(`/wa/get-state-server`, {id : tokenData.id});\r\n        // console.log('line 30 PR', response.data)\r\n        dispatch({type : 'set', whatsAppInfo: response.data.data, tokenSS : tokenSS});\r\n        // dispatch({type : \"set\", statusLogin : response1.status});\r\n        // console.log(\"line 35\", response1.status); \r\n    }\r\n\r\n    useEffect(()=>{\r\n        fecthData()\r\n\r\n    }, [])\r\n\r\n  \r\n    return children \r\n\r\n}\r\n\r\nexport default ProtectedRoute","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}"],"names":["config","require","ApiService","get","url","params","configLocal","getToken","token","localStorage","getItem","localConfigAxios","headers","axios","host","post","children","location","useLocation","useNavigate","useSelector","dispatch","useDispatch","useState","nomorWa","namaSekolah","saldo","statusLogin","to","replace","state","from","fecthData","tokenData","jwtDecode","id","response","responseLoginSs","tokenSS","window","sessionStorage","setItem","data","type","whatsAppInfo","useEffect","InvalidCharacterError","message","this","prototype","Error","name","atob","bind","input","str","String","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","err","InvalidTokenError","options","pos","header","JSON","parse","base64_url_decode","split","e"],"sourceRoot":""}