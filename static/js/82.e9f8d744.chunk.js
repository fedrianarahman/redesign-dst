"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[82],{87238:function(e,n,t){t.d(n,{s:function(){return i}});var a=t(1413),r=t(82388),s=t(70174),i={get:function(e,n,t){var i=t&&t.token||localStorage.getItem("token"),l=(0,a.Z)({headers:{Authorization:"Bearer ".concat(i)},params:n},t);return r.Z.get(s.host+e,l)},post:function(e,n,t){var i=t&&t.token||localStorage.getItem("token"),l=(0,a.Z)({headers:{Authorization:"Bearer ".concat(i)}},t);return r.Z.post(s.host+e,n,l)}}},7082:function(e,n,t){t.r(n);var a=t(1413),r=t(74165),s=t(42982),i=t(15861),l=t(70885),o=t(72791),c=t(78983),d=t(30456),x=t(87238),h=t(59434),u=t(48452),p=(t(52373),t(80184));n.default=function(e){var n=(0,h.v9)((function(e){return e.whatsAppInfo})),t=(0,d.Z)((0,h.v9)((function(e){return e.token}))),j=(0,o.useState)([]),m=(0,l.Z)(j,2),b=m[0],f=m[1],y=(0,o.useState)({visible:!1}),v=(0,l.Z)(y,2),g=v[0],k=v[1],N=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.s.get("/wa/get-invoices");case 2:n=e.sent,console.log("line 18",n.data.data),f.apply(void 0,(0,s.Z)(b).concat([n.data.data]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=b.datetime_expired?b.datetime_expired.substring(0,10):"";(0,o.useEffect)((function(){N()}),[b]);var Z=function(e){return new Intl.NumberFormat("id-ID",{currency:"IDR"}).format(e)};return(0,p.jsxs)(p.Fragment,{children:[g.visible?(0,p.jsx)(u.Z,{visible:g.visible,cbClose:function(){k((0,a.Z)((0,a.Z)({},g),{},{visible:!1}))},url:g.url}):"",(0,p.jsxs)(c.xH,{style:{border:"1px solid #FD841F"},children:[(0,p.jsx)(c.bn,{style:{background:"#FD841F",color:"#fff",fontWeight:"bold"},children:(0,p.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,p.jsx)("h5",{children:"Top Up Saldo"})})}),(0,p.jsx)(c.sl,{children:(0,p.jsxs)(c.rb,{children:[(0,p.jsx)(c.b7,{md:6,children:(0,p.jsxs)(c.xH,{style:{border:"1px solid #DEF5E5"},children:[(0,p.jsx)(c.bn,{style:{background:"#DEF5E5",border:"none",color:"#379237"},children:"Detail Item"}),(0,p.jsxs)(c.sl,{children:[(0,p.jsxs)(c.Sx,{children:[(0,p.jsx)(c.V,{children:(0,p.jsxs)(c.T6,{children:[(0,p.jsx)(c.is,{scope:"col",children:"Item"}),(0,p.jsx)(c.is,{scope:"col",children:"Nominal"})]})}),(0,p.jsxs)(c.NR,{children:[(0,p.jsxs)(c.T6,{children:[(0,p.jsx)(c.NN,{children:"Top up saldo"}),(0,p.jsx)(c.NN,{children:Z(b.totalamount-b.feePayment)})]}),(0,p.jsxs)(c.T6,{children:[(0,p.jsx)(c.NN,{children:"Biaya Layanan"}),(0,p.jsx)(c.NN,{children:Z(b.feePayment)})]})]})]}),(0,p.jsxs)("h3",{style:{marginTop:"20px",fontSize:"20px",textAlign:"right"},children:["Total : ",(0,p.jsx)("span",{style:{fontSize:"20px"},children:Z(b.totalamount)})]})]})]})}),(0,p.jsx)(c.b7,{md:6,children:(0,p.jsxs)(c.xH,{style:{border:"1px solid #FF7D7D"},children:[(0,p.jsx)(c.bn,{style:{background:"#FF7D7D",color:"white"},children:"Informasi VA Pembayaran"}),(0,p.jsx)(c.sl,{children:(0,p.jsxs)(c.lx,{children:[(0,p.jsx)(c.L8,{children:"Kategori"}),(0,p.jsx)(c.jO,{type:"text",value:"Top Up Saldo",disabled:!0}),(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsxs)(c.rb,{children:[(0,p.jsxs)(c.b7,{md:4,children:[(0,p.jsx)(c.L8,{children:"Bank"}),(0,p.jsx)(c.jO,{type:"text",value:b.bankName,disabled:!0})]}),(0,p.jsxs)(c.b7,{md:8,children:[(0,p.jsx)(c.L8,{children:"No VA"}),(0,p.jsx)(c.jO,{type:"text",value:b.paymentcode,disabled:!0})]})]})}),(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsxs)(c.rb,{children:[(0,p.jsxs)(c.b7,{md:6,children:[(0,p.jsx)(c.L8,{children:"Nominal Transfer"}),(0,p.jsx)(c.jO,{type:"text",style:{textAlign:"right"},value:Z(b.totalamount),disabled:!0})]}),(0,p.jsxs)(c.b7,{md:6,children:[(0,p.jsx)(c.L8,{children:"Tanggal Expired"}),(0,p.jsx)(c.jO,{type:"text",value:w,disabled:!0})]})]})}),(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsxs)(c.rb,{children:[(0,p.jsx)(c.b7,{md:6,children:(0,p.jsx)(c.u5,{onClick:function(){var e="https://siswa.smartsystem.co.id/#/paymentv2?"+["key=abahKadabra","nominal=".concat(b.totalamount-b.feePayment),"keterangan=TopUp Saldo","nomor=".concat(n.whatsappNumber),"uid_sekolah=".concat(25),"action=caraTransfer","clientID=".concat(t.id)].join("&");k((0,a.Z)((0,a.Z)({},g),{},{visible:!0,url:e})),console.log("line 45",e)},style:{background:"#FEB139",width:"210px",height:"40px",color:"white",textAlign:"center",border:"none",borderRadius:"0px"},children:"Cara Transfer"})}),(0,p.jsx)(c.b7,{md:6,children:(0,p.jsx)(c.u5,{onClick:function(){var e="https://siswa.smartsystem.co.id/#/paymentv2?"+["key=abahKadabra","nominal=".concat(b.totalamount-b.feePayment),"keterangan=TopUp Saldo","nomor=".concat(n.whatsappNumber),"uid_sekolah=".concat(25),"action=batalkan","clientID=".concat(t.id)].join("&");k((0,a.Z)((0,a.Z)({},g),{},{visible:!0,url:e})),console.log("line 71",e)},style:{background:"#DC0000",width:"210px",height:"40px",color:"white",textAlign:"center",border:"none",borderRadius:"0px"},children:"Batalkan Pembayaran"})})]})})]})})]})})]})})]})]})}},70174:function(e){e.exports=JSON.parse('{"host":"https://wa.vcible.com/api/dev"}')}}]);
//# sourceMappingURL=82.e9f8d744.chunk.js.map